(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{24:function(e){e.exports=JSON.parse('{"URL":""}')},49:function(e,t,a){e.exports=a(86)},54:function(e,t,a){},56:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(21),c=a.n(l),o=(a(54),a(55),a(12)),i=a(13),u=a(15),s=a(14),h=a(16),m=(a(56),a(87)),d=a(88),b=a(89),_=a(90),f=a(91),g=a(92),p=a(8),y=a.n(p),E=a(24),v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this)))._error={ticker:"",share:"",price:""},e.handle_share=function(t){e.setState({Share:t.target.value}),console.log(t.target.value),(t.target.value<1||t.target.value>1e5)&&(e._error.share="Share quantity should be more than 0 and less than 100000")},e.handle_tickerSymbol=function(t){e.setState({TickerSymbol:t.target.value}),console.log(!/[a -zA-Z]*/.test(t.target.value)),!0===/[a -zA-Z]*/.test(t.target.value)&&(e._error.ticker="")},e.handle_asp=function(t){e.setState({SharePrice:t.target.value}),(t.target.value<1||t.target.value>1e5)&&(e._error.price="Share Price should be more than 0 and less than 100000")},e.handle_submit=function(t){if(console.log(e._error),""===e._error.share&&""===e._error.price&&""===e._error.ticker){t.preventDefault();var a={TickerSymbol:e.state.TickerSymbol.toUpperCase(),Price:e.state.SharePrice,Shares:e.state.Share,TradeType:"Buy"};y.a.post(E.URL+"/api/trade",a).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),console.log(a)}else alert(e._error.share+"\n"+e._error.price+"\n"+e._error.ticker)},e.state={TickerSymbol:"",SharePrice:"",Share:""},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"col-md-3 col-sm-8 p-5 col-centered text-left border",onSubmit:this.handle_submit},r.a.createElement(b.a,null,r.a.createElement(_.a,{for:"TickerSymbol"},"Ticker Symbol"),r.a.createElement(f.a,{required:!0,value:this.state.TickerSymbol,onChange:this.handle_tickerSymbol}),r.a.createElement("small",{className:"text-danger"})),r.a.createElement(b.a,null,r.a.createElement(_.a,{for:"SingleSharePrice"},"Single Share Price"),r.a.createElement(f.a,{type:"number",required:!0,value:this.state.SharePrice,onChange:this.handle_asp}),r.a.createElement("small",{className:"text-danger"})),r.a.createElement(b.a,null,r.a.createElement(_.a,{for:"Shares"},"Shares"),r.a.createElement(f.a,{type:"number",required:!0,value:this.state.Share,onChange:this.handle_share}),r.a.createElement("small",{className:"text-danger"})),r.a.createElement(g.a,{size:"sm",block:!0,onClick:this.handle_submit},"Add")))}}]),t}(n.Component),S=a(18),k=a(93);var O=function(e){var t=e.handle_buy,a=e.handle_delete,n=e.handle_sell,l=e.handle_change_buy_price,c=e.handle_change_buy_count,o=e.handle_change_sell,i=e.table_data;return r.a.createElement(k.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Ticker Symbol"),r.a.createElement("th",null,"Average Buy Price"),r.a.createElement("th",null,"Shares"),r.a.createElement("th",null,"Sell/Buy"))),r.a.createElement("tbody",null,i.map((function(e,i){return r.a.createElement("tr",{key:i},r.a.createElement("th",{scope:"row"},e.TickerSymbol),r.a.createElement("td",null,e.Price),r.a.createElement("td",null,e.Shares),r.a.createElement("td",{className:"row"},r.a.createElement("form",{className:"row",onSubmit:function(e){return t(i,e)}},r.a.createElement(f.a,{type:"number",required:!0,onChange:function(e){return l(i,e)},className:"w-25",name:"buy_price",id:"buy-price",value:e.buy_price,placeholder:"Price"}),r.a.createElement(f.a,{type:"number",required:!0,onChange:function(e){return c(i,e)},className:"w-25",name:"buy_count",id:"buy-count",value:e.buy_count,placeholder:"Shares"}),r.a.createElement(g.a,{type:"submit",outline:!0,color:"success"},"Buy")),r.a.createElement("form",{className:"row",onSubmit:function(e){return n(i,e)}},r.a.createElement(f.a,{type:"number",required:!0,onChange:function(e){return o(i,e)},className:"w-25",name:"sell",id:"dell",value:e.sell_value}),r.a.createElement(g.a,{type:"submit",outline:!0,color:"warning"},"Sell")),r.a.createElement(g.a,{outline:!0,color:"danger",onClick:function(){return a(i)}},"Sell All")))}))))},P=a(48),j=a(94),C=a(95),N=a(96),T=a(102),w=a(97),D=a(98),x=a(99),R=a(100),U=a(26),A=a(28);var L=function(e){var t=Object(n.useState)(!1),a=Object(P.a)(t,2),l=a[0],c=a[1];return r.a.createElement(j.a,{className:"main_color",expand:"md"},r.a.createElement(C.a,{href:"/"},r.a.createElement(U.a,{icon:A.b})),r.a.createElement(N.a,{onClick:function(){return c(!l)},className:"button_color"},r.a.createElement(U.a,{icon:A.a})),r.a.createElement(T.a,{isOpen:l,navbar:!0},r.a.createElement(w.a,{className:"mr-auto",navbar:!0},r.a.createElement(D.a,null,r.a.createElement(x.a,{href:"/holding"},"Holding")),r.a.createElement(D.a,null,r.a.createElement(x.a,{href:"/"},"Portfolio"))),r.a.createElement(R.a,null," Name : ",e.name," "),r.a.createElement(R.a,null," -Credits : ",e.credits)))},M=a(24),B=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this)))._errors={buy_price:"",buy_count:"",sell_value:""},e._isFormValid=0,e.fetchData=function(){console.log("Fetching data"),y.a.get(M.URL+"/api/portfolio").then((function(t){var a=Object(S.a)(t.data);a.forEach((function(e){e.buy_price="",e.buy_count="",e.sell_value=""})),e.setState((function(e){return{table_data:a}}))})).catch((function(e){console.log(e)})),y.a.get(M.URL+"/api/returns").then((function(t){e.setState((function(e){return{returns:t.data.amount}}))})).catch((function(e){console.log(e)})),y.a.get(M.URL+"/api/credits").then((function(t){e.setState((function(e){return{credits:t.data.Credit,name:t.data.Name}}))})).catch((function(e){console.log(e)}))},e.handle_delete=function(t){if(console.log("Handle Delete "+t),-1!==t){var a=e.state.table_data[t];a.TradeType="Sell",y.a.delete(M.URL+"/api/trade/",{data:a}).then((function(){e.fetchData()})).catch((function(e){console.log(e)}));var n=Object(S.a)(e.state.table_data);n.splice(t,1),e.setState({table_data:n})}},e.handle_buy=function(t,a){if(console.log(e._errors),-1!==t)if(""===e._errors.buy_price&&""===e._errors.buy_count){a.preventDefault();var n=e.state.table_data[t],r={TickerSymbol:n.TickerSymbol,Price:n.buy_price,Shares:n.buy_count,TradeType:"Buy"};y.a.put(M.URL+"/api/trade/",r).then((function(){e.fetchData()})).catch((function(e){console.log(e)})),e.fetchData()}else alert(e._errors.buy_count+" "+e._errors.buy_price)},e.handle_sell=function(t,a){if(-1!==t)if(""===e._errors.sell_value){a.preventDefault();var n=e.state.table_data[t],r={TickerSymbol:n.TickerSymbol,Shares:-n.sell_value,TradeType:"Sell"};y.a.put(M.URL+"/api/trade/",r).then((function(){e.fetchData()})).catch((function(e){console.log(e)}))}else alert(e._errors.sell_value)},e.handle_change_buy_price=function(t,a){var n=Object(S.a)(e.state.table_data);parseInt(a.target.value)>=1&&parseInt(a.target.value)<=1e5?e._errors.buy_price="":e._errors.buy_price="Minimum share price should be 1\n Maximum share price should be "+1e5,-1!==t&&(n[t].buy_price=a.target.value,e.setState({table_data:n}))},e.handle_change_buy_count=function(t,a){console.log(typeof a.target.value),parseInt(a.target.value)>=1&&parseInt(a.target.value)<=1e5?e._errors.buy_count="":e._errors.buy_count="Minimum share count should be 1\n Maximum share count should be "+1e5;var n=Object(S.a)(e.state.table_data);-1!==t&&(n[t].buy_count=a.target.value,e.setState({table_data:n}))},e.handle_change_sell=function(t,a){if(-1!==t){console.log("Handle Change "+t);var n=Object(S.a)(e.state.table_data);a.target.value>=1&&a.target.value<n[t].Shares?e._errors.sell_value="":(e._errors.sell_value="Minimum shares to sell should be 1\n Maximum shares to sell should be "+(n[t].Shares-1),console.log(e._errors.sell_value)),n[t].sell_value=a.target.value,e.setState({table_data:n})}},e.state={returns:-1,table_data:[],name:"",credits:0,_form_error:""},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,{name:this.state.name,credits:this.state.credits}),r.a.createElement("div",{className:"m-5"},r.a.createElement(g.a,{className:"float-left mb-3",href:"/Add"},"Add"),r.a.createElement(g.a,{className:"float-left mb-3 ml-3",href:"/history"},"History"),r.a.createElement(O,{handle_buy:this.handle_buy,handle_delete:this.handle_delete,handle_sell:this.handle_sell,table_data:this.state.table_data,handle_change_buy_price:this.handle_change_buy_price,handle_change_buy_count:this.handle_change_buy_count,handle_change_sell:this.handle_change_sell}),r.a.createElement("div",{className:"text-right"},r.a.createElement("h4",null,"Returns : ",this.state.returns))))}}]),t}(n.Component);var q=function(e){var t=e.history;return r.a.createElement(k.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Ticker Symbol"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Shares"),r.a.createElement("th",null,"Sell/Buy"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},e.TickerSymbol),r.a.createElement("td",null,e.Price),r.a.createElement("td",null,e.Shares),r.a.createElement("td",null,e.TradeType))}))))},H=a(101),I=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.pagelist,t=this.props.currentPage,a=this.props.handlePageChange;return r.a.createElement(m.a,null,r.a.createElement(H.a,null,r.a.createElement("div",{className:"pagination"},r.a.createElement("button",{onClick:function(e){return a(e,0)}},"\xab"),e.map((function(e,n){return r.a.createElement("button",{key:n,className:n+1===t?"active":"",onClick:function(e){return a(e,n)}},n+1)})),r.a.createElement("button",{onClick:function(t){return a(t,e.length-1)}},"\xbb"))))}}]),t}(n.Component),z=a(24),F=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).fetchData=function(){console.log("Fetching history"),e.fetchPage(e.state.currentPage),y.a.get(z.URL+"/api/credits").then((function(t){e.setState((function(e){return{credits:t.data.Credit,name:t.data.Name}}))})).catch((function(e){console.log(e)}))},e.getPageCount=function(){y.a.get(z.URL+"/api/getHistoryCount").then((function(t){for(var a=[],n=0;n<Math.ceil(t.data/e.state.limit);n++)a.push(n);e.setState((function(n){return{totalPage:Math.ceil(t.data/e.state.limit),pagelist:a}}))})).catch((function(e){console.log(e)}))},e.fetchPage=function(t){y.a.get(z.URL+"/api/history?pageNo="+t+"&size="+e.state.limit).then((function(t){var a=Object(S.a)(t.data);console.log(a),e.setState({history:a}),e.setState({_isloading:!1})})).catch((function(e){console.log(e)}))},e.handlePageChange=function(t,a){e.setState({_isloading:!0}),e.setState({currentPage:a+1}),console.log(e.state.currentPage),e.fetchPage(a+1)},e.state={credits:0,name:"",currentPage:1,limit:10,_isloading:!1,totalPage:1,pagelist:[],history:[]},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchData(),this.getPageCount()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L,{name:this.state.name,credits:this.state.credits}),r.a.createElement("div",{className:"m-5"},r.a.createElement(g.a,{className:"float-left mb-3",href:"/Add"},"Add"),r.a.createElement(g.a,{className:"float-left mb-3 ml-3",href:"/"},"Home"),this._isloading?"Please wait...":r.a.createElement(q,{history:this.state.history}),r.a.createElement(I,{pagelist:this.state.pagelist,currentPage:this.state.currentPage,handlePageChange:this.handlePageChange})))}}]),t}(n.Component),J=a(17),W=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J.d,null,r.a.createElement(J.b,{path:"/",exact:!0,render:function(){return r.a.createElement(B,null)}}),r.a.createElement(J.b,{path:"/Add",component:v}),r.a.createElement(J.b,{path:"/history",render:function(){return r.a.createElement(F,null)}}),r.a.createElement(J.a,{to:"/"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(25);c.a.render(r.a.createElement(Z.a,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.cbc254d8.chunk.js.map